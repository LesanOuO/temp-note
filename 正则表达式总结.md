# 简介

使用正则表达式来处理搜索文本，能够提高灵活性。
通过使用正则表达式，可以做到：
- 测试字符串内的模式，例如，可以匹配字符串是否满足电话号码或信用卡号码的模式，进行数据验证
- 替换文本，使用正则表达式来识别文档中的特定文本，完全删除该文本或用其他文本替换它
- 基于模式匹配从字符串中提取子字符串，可以查找文档内或输入域内特定的文本

# 基本语法

## 修饰符

| 修饰符 |              含义              | 描述                                                                                      |
| :----: | :----------------------------: | :---------------------------------------------------------------------------------------- |
|   i    |     ignore - 不区分大小写      | 将匹配设置为不区分大小写，搜索时不区分大小写:A和a没有区别                                 |
|   g    |       global - 全局匹配        | 查找所有的匹配项                                                                          |
|   m    |     multi line - 多行匹配      | 使边界字符 ^ 和 $ 匹配每一行的开头和结尾，记住是多行，而不是整个字符串的开头和结尾        |
|   s    | 特殊字符圆点 . 中包含换行符 \n | 默认情况下的圆点 . 是匹配除换行符 \n 之外的任何字符，加上 s 修饰符之后, . 中包含换行符 \n |

## 元字符

1. 普通字符

|  字符  | 描述                                                                                         |
| :----: | :------------------------------------------------------------------------------------------- |
| [ABC]  | 匹配 [...] 中的所有字符                                                                      |
| [^ABC] | 匹配除了 [...] 中字符的所有字符                                                              |
| [A-Z]  | [A-Z] 表示一个区间，匹配所有大写字母，[a-z] 表示所有小写字母                                 |
|   .    | 匹配除换行符（\n、\r）之外的任何单个字符，相等于 [^\n\r]                                     |
| [\s\S] | 匹配所有。\s 是匹配所有空白符，包括换行，\S 非空白符，不包括换行                             |
|   \w   | 匹配字母、数字、下划线。等价于 [A-Za-z0-9_]                                                  |
|   \W   | 匹配非字母、数字、下划线。等价于 '[^A-Za-z0-9_]'                                             |
|   \d   | 匹配一个数字字符。等价于 [0-9]                                                               |
|   \D   | 匹配一个非数字字符。等价于 [^0-9]                                                            |
|  \xn   | 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，'\x41' 匹配 "A" |
|  \num  | 匹配 num，其中 num 是一个正整数                                                              |

1. 非打印字符

| 字符  | 描述                                                          |
| :---: | :------------------------------------------------------------ |
|  \cx  | 匹配由x指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符 |
|  \f   | 匹配一个换页符                                                |
|  \n   | 匹配一个换行符                                                |
|  \r   | 匹配一个回车符                                                |
|  \s   | 匹配任何空白字符，包括空格、制表符、换页符等等                |
|  \S   | 匹配任何非空白字符                                            |
|  \t   | 匹配一个制表符                                                |
|  \v   | 匹配一个垂直制表符                                            |

3. 特殊字符

| 字符  | 描述                                                                               |
| :---: | :--------------------------------------------------------------------------------- |
|   $   | 匹配输入字符串的结尾位置                                                           |
|  ()   | 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用                       |
|   *   | 匹配前面的子表达式零次或多次                                                       |
|   +   | 匹配前面的子表达式一次或多次                                                       |
|   .   | 匹配除换行符 \n 之外的任何单字符                                                   |
|   [   | 标记一个中括号表达式的开始                                                         |
|   ?   | 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符(尽可能少的匹配所搜索的字符串) |
|   \   | 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符               |
|   ^   | 匹配输入字符串的开始位置；不接受该方括号表达式中的字符集合                         |
|   {   | 标记限定符表达式的开始                                                             |
|  \|   | 指明两项之间的一个选择                                                             |

4. 限定符

| 字符  | 描述                                                          |
| :---: | :------------------------------------------------------------ |
|   *   | 匹配前面的子表达式零次或多次                                  |
|   +   | 匹配前面的子表达式一次或多次                                  |
|   ?   | 匹配前面的子表达式零次或一次                                  |
|  {n}  | n 是一个非负整数。匹配确定的 n 次                             |
| {n,}  | n 是一个非负整数。至少匹配n 次                                |
| {n,m} | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次 |

5. 定位符

| 字符  | 描述                                 |
| :---: | :----------------------------------- |
|   ^   | 匹配输入字符串开始的位置             |
|   $   | 匹配输入字符串结尾的位置             |
|  \b   | 匹配一个单词边界，即字与空格间的位置 |
|  \B   | 非单词边界匹配                       |

6. ?: ?= ?! ?<= ?>!

|     字符     | 描述                          |
| :----------: | :---------------------------- |
| (?:pattern)  | 匹配 pattern 但不获取匹配结果 |
| (?=pattern)  | 正向肯定预查                  |
| (?!pattern)  | 正向否定预查                  |
| (?<=pattern) | 反向肯定预查                  |
| (?<!pattern) | 反向否定预查                  |

7. 其他

|     字符     | 描述                          |
| :----------: | :---------------------------- |
|      \d      | 匹配 pattern 但不获取匹配结果 |
|      \D      | 正向肯定预查                  |
| (?!pattern)  | 正向否定预查                  |
| (?<=pattern) | 反向肯定预查                  |
| (?<!pattern) | 反向否定预查                  |

## 运算符优先级

相同优先级的从左到右进行运算，不同优先级的运算先高后低。下表从最高到最低说明了各种正则表达式运算符的优先级顺序：
|           运算符            | 描述           |
| :-------------------------: | :------------- |
|              \              | 转义符         |
|     (), (?: ), (?=), []     | 圆括号和方括号 |
|  *, +, ?, {n}, {n,}, {n,m}  | 限定符         |
| ^, $, \任何元字符、任何字符 | 定位点和序列   |
|             \|              | 替换，"或"操作 |

# 示例

通过 `/\b[\w.%+-]+@[\w.-]+\.[a-zA-Z]{2,6}\b/g` 匹配邮箱地址

